<!-- Mood Selector -->
<section class="w-full p-4">
  <app-moods></app-moods>
</section>

<!-- Dropdown Menu -->
<section class="w-full p-4">
  <button id="dropdownDefaultButton" (click)="toggleDropdown($event)" [ngClass]="moodComponentClasses[moodService.getCurrentMood()]" data-dropdown-toggle="dropdown" class="w-full justify-between font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center" type="button">{{selected}}
    <svg *ngIf="!isDropdownVisible" class="w-5 h-5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
    </svg>
    <svg *ngIf="isDropdownVisible" class="w-5 h-5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 5 4-4 4 4"/>
    </svg>
  </button>
  <div id="dropdown" *ngIf="isDropdownVisible" class="w-full z-10 bg-blue-700 divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-component mt-0">
    <div class="flex flex-col h-full max-h-64 overflow-y-auto">
      <ul class="py-2" [ngClass]="moodComponentClasses[moodService.getCurrentMood()]" aria-labelledby="dropdownDefaultButton">
        <li *ngFor="let option of options">
          <a (click)="selectedOptionChange(option); closeDropdown()" [ngClass]="moodComponentClasses[moodService.getCurrentMood()]" class="block w-full px-4">{{option}}</a>
        </li>
      </ul>
    </div>
  </div>
</section>

<!-- Song Cards Container -->
<section class="w-full p-4">
  <div *ngIf="!isLoading; else loadingSkeletons" class="grid grid-cols-1 gap-1">
    <ng-container *ngFor="let card of getSelectedCardData(); let i = index; let last = last">
      <app-song-cards [svgSize]="'10vw'" [imgSize]="'20vw'" [card]="card"></app-song-cards>
    </ng-container>
  </div>
  <ng-template #loadingSkeletons>
    <div class="grid grid-cols-1 gap-1">
      <ng-container *ngFor="let skeleton of skeletonArray">
        <app-skeleton-song-card [imageSize]="'5vw'"></app-skeleton-song-card>
      </ng-container>
    </div>
  </ng-template>
</section>
