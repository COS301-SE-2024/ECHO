<app-back-button></app-back-button>
<h1 class="text-3xl font-bold text-white text-center mb-6">Search Results for "{{ searchQuery }}"</h1>
<app-search-bar></app-search-bar>
<div class="pl-4">
  <!-- Top Result Section -->
  <div class="top-result dark:text-gray-200" style="float: left; width: 33%;">
    <h1 class="py-3 text-white" style="font-weight: bold; font-size: larger;">Top Result</h1>
    <div [ngClass]="moodComponentClasses[this.moodService.getCurrentMood()]" class="opacity-85 bg-stone-950 big-card hover:cursor-pointer" style="width: 15vw; padding: 1vw; border-radius: 15px;">
      <ng-container *ngIf="topResult$ | async as topResult">
        <app-song-cards
          [card]="topResult"
          imgSize="20vh"
          svgSize="5vh"
          (echoTrackEvent)="onEchoTrackEvent($event,topResult.text,topResult.secondaryText)">
        </app-song-cards>
      </ng-container>
    </div>
  </div>

  <!-- Songs Section -->
  <div class="songs dark:text-gray-200 p-4" style="float: left; width: 33%; position: relative;">
    <a style="position: absolute; top: 0; right: 0; margin: 10px; padding: 5px 10px; border-radius: 5px; cursor: pointer;" class="text-white">View More</a>
    <h1 class="py-2 text-white" style="font-weight: bold; font-size: larger;">Songs</h1>
    <div class="songs-container no-scrollbar" style="display: flex; flex-direction: column; overflow-y: auto; height: 20vw;">
      <ng-container *ngFor="let song of songs$ | async">
        <div [ngClass]="moodComponentClasses[this.moodService.getCurrentMood()]" class="opacity-85 bg-stone-950 hover:cursor-pointer gap-4 pb-2 mb-3" style="padding: 0.5vw; border-radius: 15px;">
          <app-song-cards
            [card]="song"
            imgSize="100px"
            svgSize="30px"
            (echoTrackEvent)="onEchoTrackEvent($event,song.text,song.secondaryText)">
          </app-song-cards>
        </div>
      </ng-container>
    </div>
  </div>

  <!-- Albums Section -->
  <div class="songs dark:text-gray-200 p-4" style="float: left; width: 33%; position: relative;">
    <a class="text-white"
       style="position: absolute; top: 0; right: 0; margin: 10px; padding: 5px 10px; border-radius: 5px;cursor: pointer;">
      View More
    </a>
    <h1 class="py-2 text-white" style="font-weight: bold; font-size: larger;">Albums</h1>
    <div class="songs-container no-scrollbar"
         style="display: flex; flex-direction: column; overflow-y: auto; height:20vw;">
      <div [ngClass]="moodComponentClasses[currentMood]"
           class="song-card hover:cursor-pointer bg-stone-950 opacity-85"
           *ngFor="let album of albums$ | async"
           style="flex: 0 0 auto; width: 100%; margin-bottom: 20px; display: flex; padding: 5px; border-radius: 10px; box-sizing: border-box; height:6vw; padding: .5vw;"
           (click)="playTrack(album.name, album.artist)">
        <img [src]="album.imageUrl" alt="Album Image"
             style="width: 25%; border-radius: 10px; margin-right: 10px;">
        <div>
          <h2 style="font-weight: bold;" class="py-2">{{ album.albumName }}</h2>
          <p class="py-1">{{ album.artist }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
