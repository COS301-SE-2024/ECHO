<div class="flex flex-col h-full overflow-y-hidden">
    <!-- Header rgb -->
    <header style="background-color: rgba(0, 0, 0,0.70);" class="p-4 rounded-lg flex justify-between items-center text-white">
        <div class="flex items-center">
        <!-- <img src="assets/logo.png" alt="Logo" class="w-8 h-8 mr-2"> -->
        <h1 class="text-lg font-semibold">Help chat For Echo</h1>
        </div>
    </header>

    <!-- Chat Window -->
    <div style="background-color: rgba(0, 0, 0,0.30);" class="flex-grow overflow-y-hidden" (wheel)="onScroll($event)">
      <div *ngFor="let message of getVisibleMessages()" class="mb-4">
        <!-- User Message -->
        <div *ngIf="message.sender === 'user'" class="text-right">
            <div [ngClass]="moodColors[this.moodService.getCurrentMood()]" class="inline-block font-semibold text-lg text-white p-3 rounded-lg">
            {{ message.text }}
            </div>
        </div>

        <!-- Bot Message -->
        <div *ngIf="message.sender === 'bot'" class="text-left">
            <div class="flex items-center">
                <img src="../../../../../assets/icons/dolphin-load.svg" alt="Loading Icon" style="width: 5vh; height: 5vh; margin-right: 0.5rem;" />
                <div [ngClass]="moodColors[this.moodService.getCurrentMood()]" style="background-color: rgba(0, 0, 0,0.70);" class="inline-block text-white text-lg font-semibold p-3 rounded-lg">
                    {{ message.text }}
                </div>
            </div>
        </div>
      </div>
    </div>

    <div style="background-color: rgba(0, 0, 0,0.70);" class="flex items-center">
        <input [ngClass]="moodColors[this.moodService.getCurrentMood()]" [(ngModel)]="userInput"
            type="text"
            placeholder="Type a message..."
            class="flex-grow border rounded-l-lg p-3 text-white text-lg font-semibold focus:outline-none focus:ring-0"
            (keydown.enter)="sendMessage()">
        <button (click)="sendMessage()"
        [ngClass]="moodColorsButton[this.moodService.getCurrentMood()]"
                class="text-white text-lg font-semibold p-3 rounded-r-lg">
        Send
        </button>
    </div>
</div>