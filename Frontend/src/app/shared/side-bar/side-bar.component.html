<div *ngIf="screenSize === 'desktop'" class="fixed z-10" style="--tw-w: 21vw; --tw-h: 75vh; left: 1vw; top: 10.2vh;">
  <div class="container">
    <div class="pl-5 py-4 rounded-md h-full"> <!-- Removed border class here -->
      <div class="bg-gray-lightcomponent dark:bg-gray-component rounded-lg overflow-auto h-full flex flex-col justify-between scrollbar-hidden">
        <div class="flex flex-col h-full">
          <div class="flex justify-between mb-4">
            <div class="button-container pt-2" [class.underline-blue]="selectedOption === 'upNext'" [class.underline-none]="selectedOption !== 'upNext'">
              <button class="pl-5 pr-5 text-sm text-gray-800 dark:text-white focus:outline-none button"
                      (click)="selectOption('upNext')">Suggestions
              </button>
            </div>
            <div class="button-container pt-2" [class.underline-blue]="selectedOption === 'recentListening'" [class.underline-none]="selectedOption !== 'recentListening'">
              <button class="pl-5 pr-5 text-sm text-gray-800 dark:text-white focus:outline-none button"
                      (click)="selectOption('recentListening')">Recent listening
              </button>
            </div>
          </div>

          <div class="mt-7 mx-3 flex-grow overflow-auto scrollbar-hidden">
            <div *ngFor="let card of getSelectedCardData()" class="flex items-center mb-5 hover:cursor-pointer" (click)="playTrack(card.id)">
              <!-- Image on the left -->
              <div class="mr-4 flex-shrink-0" style="width: 25%;">
                <img [src]="card.imageUrl" alt="Card image" class="w-full h-auto rounded">
              </div>
              <!-- Text on the right -->
              <div class="flex-grow">
                <!-- First text with icon -->
                <div class="flex items-center">
                  <img *ngIf="card.explicit && themeService.isDarkModeActive()" src="../../../assets/images/explicit-dark.png" alt="Explicit Icon" class="w-6 h-6 mr-2">
                  <img *ngIf="card.explicit && !themeService.isDarkModeActive()" src="../../../assets/images/explicit.png" alt="Explicit Icon" class="w-6 h-6 mr-2">
                  <p class="text-gray-900 text-sm dark:text-white font-bold">{{ card.text }}</p>
                </div>
                <!-- Second text (underneath the first text) -->
                <p class="text-xs text-gray-light dark:text-gray-400">{{ card.secondaryText }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="screenSize === 'mobile'" class="flex flex-col w-full">
  
<button id="dropdownDefaultButton" (click)="toggleDropdown()" data-dropdown-toggle="dropdown" class="w-full justify-between text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-gray-component dark:hover:bg-pink dark:focus:ring-pink" type="button">{{selected}}<svg class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
</svg>
</button>

<!-- Styled Dropdown menu to match the button -->
<div id="dropdown" *ngIf="isDropdownVisible" class="w-full z-10 bg-blue-700 divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-component">
    <div class="flex flex-col h-full">
      <ul class="py-2 text-sm text-white" aria-labelledby="dropdownDefaultButton">
        <li *ngFor="let option of options">
          <a (click)="selectedOptionChange(option)" class="block w-full px-4 py-2 rounded-lg hover:bg-blue-800 dark:hover:bg-pink dark:hover:text-white">{{option}}</a>
        </li>
      </ul>
    </div>
</div>
  
  
  <!-- Cards Container -->
  <div class="px-5 py-2 w-full"> 
    <!-- ng-container for iterating over cards and adding View More button as the last card -->
    <ng-container *ngFor="let card of getSelectedCardData(); let i = index; let last = last">
            <!-- Card -->
      <div class="mb-4 w-full rounded-lg shadow-lg overflow-hidden bg-gray-lightcomponent dark:bg-gray-component">
        <div class="flex items-center p-4" (click)="playTrack(card.id)">
          <!-- Card Image -->
          <img class="w-16 h-16 rounded-lg" src="{{ card.imageUrl }}" alt="Album Art">
          <!-- Card Content -->
          <div class="ml-4">
            <h3 class="text-lg font-bold text-gray-900 dark:text-white">{{ card.text }}</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">{{ card.secondaryText }}</p>
          </div>
          <!-- Action Button -->
          <div class="ml-auto">
            <button class="text-gray-400 hover:text-gray-200">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 6.5a1.5 1.5 0 011.5 1.5V11h3a1.5 1.5 0 010 3h-3v3a1.5 1.5 0 01-3 0v-3h-3a1.5 1.5 0 010-3h3V8a1.5 1.5 0 011.5-1.5z"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
      <!-- View More Button as a Card with extra bottom padding class -->
      <div *ngIf="last" class="view-more-container text-center py-4 w-full rounded-lg shadow-lg overflow-hidden bg-gray-lightcomponent dark:bg-gray-component">
        <button class="px-4 py-2 rounded-lg bg-pink text-white font-semibold">View More</button>
      </div>
    </ng-container>
  </div>
</div>